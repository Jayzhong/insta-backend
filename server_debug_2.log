INFO:     Started server process [16509]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
2025-11-26 13:23:51,876 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-11-26 13:23:51,876 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-11-26 13:23:51,880 INFO sqlalchemy.engine.Engine select current_schema()
2025-11-26 13:23:51,880 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-11-26 13:23:51,882 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-11-26 13:23:51,882 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-11-26 13:23:51,884 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-26 13:23:51,885 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.password_hash, users.nickname, users.avatar_url, users.bio, users.is_public, users.created_at, users.updated_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-11-26 13:23:51,885 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('testuser_debug_2',)
2025-11-26 13:23:51,890 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.password_hash, users.nickname, users.avatar_url, users.bio, users.is_public, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-11-26 13:23:51,890 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ('testdebug2@example.com',)
[DEBUG] Register - Plain password: Password123!
[DEBUG] Register - Hashed password (from hasher): $argon2id$v=19$m=65536,t=3,p=4$bs0Z47w35lyrNaaUck5JSQ$n/oeaos6+Vx66Zxz6suCUNOnoiOMd4KQWrtZYyEkvyw
[DEBUG] Register - New user object hashed_password: $argon2id$v=19$m=65536,t=3,p=4$bs0Z47w35lyrNaaUck5JSQ$n/oeaos6+Vx66Zxz6suCUNOnoiOMd4KQWrtZYyEkvyw
2025-11-26 13:23:51,949 INFO sqlalchemy.engine.Engine INSERT INTO users (id, username, email, password_hash, nickname, avatar_url, bio, is_public) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::BOOLEAN) RETURNING users.created_at, users.updated_at
2025-11-26 13:23:51,949 INFO sqlalchemy.engine.Engine [generated in 0.00014s] (UUID('3f3464de-b08e-433c-9a6f-372430df4cea'), 'testuser_debug_2', 'testdebug2@example.com', '$argon2id$v=19$m=65536,t=3,p=4$bs0Z47w35lyrNaaUck5JSQ$n/oeaos6+Vx66Zxz6suCUNOnoiOMd4KQWrtZYyEkvyw', None, None, None, True)
INFO:     127.0.0.1:55617 - "POST /api/v1/users/register HTTP/1.1" 201 Created
2025-11-26 13:23:51,953 INFO sqlalchemy.engine.Engine ROLLBACK
[DEBUG] Login - Request email: testdebug2@example.com, password: Password123!
2025-11-26 13:23:51,964 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-26 13:23:51,964 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.password_hash, users.nickname, users.avatar_url, users.bio, users.is_public, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-11-26 13:23:51,964 INFO sqlalchemy.engine.Engine [cached since 0.07417s ago] ('testdebug2@example.com',)
[DEBUG] Login - User not found.
2025-11-26 13:23:51,966 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:55620 - "POST /api/v1/users/login HTTP/1.1" 401 Unauthorized
